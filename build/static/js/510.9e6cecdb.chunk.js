"use strict";(self.webpackChunkcatalog=self.webpackChunkcatalog||[]).push([[510],{42:function(a,t,e){e.r(t),e.d(t,{default:function(){return p}});var n=e(152),i=e(504),s=e(791),c=e(384),r=e(423),l=e(970),d=e(184),o=function(a){var t=a.uiData,e=a.loading,n=a.lang,i=a.contentChange,s=!e&&t?(0,d.jsxs)("ul",{onClick:i,children:[(0,d.jsx)("li",{className:"admin-side_item","data-target":"start",children:(0,d.jsx)("div",{className:"admin-side_item_btn","data-target":"start",children:t.btn_main[n]})}),(0,d.jsx)("li",{className:"admin-side_item","data-target":"catalog",children:(0,d.jsx)("div",{className:"admin-side_item_btn","data-target":"catalog",children:t.btn_catalog[n]})}),(0,d.jsx)("li",{className:"admin-side_item","data-target":"mebel",children:(0,d.jsx)("div",{className:"admin-side_item_btn","data-target":"mebel",children:t.btn_mebel[n]})}),(0,d.jsx)("li",{className:"admin-side_item","data-target":"banner",children:(0,d.jsx)("div",{className:"admin-side_item_btn","data-target":"banner",children:t.btn_banner[n]})}),(0,d.jsx)("li",{className:"admin-side_item","data-target":"collection",children:(0,d.jsx)("div",{className:"admin-side_item_btn","data-target":"collection",children:t.btn_set[n]})}),(0,d.jsx)("li",{className:"admin-side_item","data-target":"ui",children:(0,d.jsx)("div",{className:"admin-side_item_btn","data-target":"ui",children:t.btn_addUI[n]})})]}):null;return(0,d.jsx)("div",{className:"admin-side",children:s})},u=e(754),m=e.p+"static/media/delete.9e293051bc3753d3441b.png",g=function(a){var t=a.lang,e=a.langs,i=(0,s.useRef)(),r=(0,s.useRef)(),o=(0,s.useState)(null),u=(0,n.Z)(o,2),g=u[0],h=u[1],j=(0,s.useState)(null),x=(0,n.Z)(j,2),f=(x[0],x[1]),v=(0,s.useState)(null),b=(0,n.Z)(v,2),p=b[0],N=b[1],C=(0,s.useState)(null),_=(0,n.Z)(C,2),k=_[0],Z=_[1],S=(0,s.useState)([]),A=(0,n.Z)(S,2),E=A[0],D=A[1],w=(0,s.useState)([]),L=(0,n.Z)(w,2),O=L[0],z=L[1],$=(0,s.useState)(!1),y=(0,n.Z)($,2),R=y[0],T=y[1],q=(0,c.Z)(),F=q.loading,G=(q.error,q.postData);(0,s.useEffect)((function(){U()}),[]);var I,U=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t={action:"read"};a&&(t.id=a,T(!0)),G({catalog:t}).then((function(t){M(a,t.Catalog)})).catch((function(a){return console.log("error read catalogs, ",a)}))},M=function(a,t){console.log(a),a?(z(t),T(!1)):D(t)},P=function(a,t){var n={action:"write"};e.forEach((function(t){n[t]=document.querySelector("input[data-target=".concat(a,"-").concat(t,"]")).value,document.querySelector("input[data-target=".concat(a,"-").concat(t,"]")).value=""})),t&&(n.id=t,T(!0)),G({catalog:n}).then((function(a){M(t,a.Catalog)})).catch((function(a){console.log("error add catalog: ",n," error: ",a),alert("Error add to catalog, details in the console")}))},B=function(a,t){var e=a.target.parentElement.getAttribute(t),n={action:"del",target:"data-mainid"===t?"cat":"subCat",id:e};G({catalog:n}).then((function(a){M("data-subid"===t,a.Catalog)})).catch((function(a){console.log("error delete catalog: ",n,"error: ",a),alert("Error delete, details in the console")}))},H=function(a,t){a.target.getAttribute("data-subid")?f(a.target.getAttribute("data-subid")):(f(null),Z(!1),r.current&&r.current.classList.remove("active"),h(a.target.getAttribute("data-mainid")),z([]),U(a.target.getAttribute("data-mainid"))),t.current&&t.current.classList.remove("active"),t.current=a.target,t.current.classList.add("active")},J=function(a){return e.map((function(t,e){return(0,d.jsx)("input",{type:"text",className:"addCat-input","data-lang":t,"data-target":"".concat(a,"-").concat(t),placeholder:t},"".concat(a,"-").concat(t," ").concat(e))}))},K=function(a){"main"===a?N((function(a){return!a})):Z((function(a){return!a}))},Q=g?"addCat right ":"addCat right hide",V=p?"add-area ":"add-area hide",W=k&&g?"add-area ":"add-area hide";return(0,d.jsxs)("div",{className:"admin-catalog",children:[(0,d.jsx)("h4",{children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u043a\u0430\u0442\u0430\u043b\u043e\u0433\u0430"}),(0,d.jsxs)("div",{className:"admin-catalog-data",children:[(0,d.jsxs)("div",{className:"admin-catalog-data_right",children:[(0,d.jsx)("h4",{children:"\u041e\u0441\u043d\u043e\u0432\u043d\u043e\u0439 \u043a\u0430\u0442\u0430\u043b\u043e\u0433:"}),(0,d.jsx)("ul",{className:"items",onClick:function(a){H(a,i)},children:F&&!R?(0,d.jsx)(l.$,{}):(I="main",E.map((function(a){return(0,d.jsx)("li",{children:(0,d.jsxs)("div",{className:"item","data-mainid":a.id,children:[a[t]," ",(0,d.jsx)("img",{src:m,alt:"delete",onClick:function(a){return B(a,"data-mainid")}})]})},"".concat(I).concat(a.id))})))}),(0,d.jsxs)("div",{className:"addCat left",children:[(0,d.jsx)("button",{className:"addCat-btn",onClick:function(){return K("main")},children:"Add Catalog"}),(0,d.jsxs)("div",{className:V,children:[J("mainCatalog"),(0,d.jsx)("button",{className:"addCat-btn",onClick:function(){return P("mainCatalog",null)},children:"Ok"})]})]})]}),(0,d.jsxs)("div",{className:"admin-catalog-data_left",children:[(0,d.jsx)("h4",{children:"\u041f\u043e\u0434\u043a\u0430\u0442\u0430\u043b\u043e\u0433\u0438:"}),(0,d.jsx)("ul",{className:"items",onClick:function(a){H(a,r)},children:R?(0,d.jsx)(l.$,{}):O.map((function(a){return(0,d.jsx)("li",{className:"items-elem",children:(0,d.jsxs)("div",{className:"item","data-subid":a.id,children:[a[t]," ",(0,d.jsx)("img",{src:m,alt:"delete",onClick:function(a){return B(a,"data-subid")}})]})},"sub".concat(a.id))}))}),(0,d.jsxs)("div",{className:Q,children:[(0,d.jsx)("button",{className:"addCat-btn",onClick:function(){return K("sub")},children:"Add subCatalog"}),(0,d.jsxs)("div",{className:W,children:[J("subCatalog"),(0,d.jsx)("button",{className:"addCat-btn",onClick:function(){return P("subCatalog",g)},children:"Ok"})]})]})]})]})]})},h=e(683),j=e(717),x=function(a){var t=a.data;return(0,d.jsx)("div",{className:"courusel",children:(0,d.jsx)(j.Z,(0,h.Z)((0,h.Z)({},{dots:!0,infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1}),{},{children:t.map((function(a){return(0,d.jsx)("img",{src:a,alt:"img-courusel"})}))}))})},f=e.p+"static/media/temp.ab7a8c46f82d1d1b419d.jpg",v=function(a){var t=a.lang,e=a.data;return(0,d.jsx)(d.Fragment,{children:e.map((function(a,e){return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)("li",{children:(0,d.jsxs)("div",{className:"item","data-proid":a.id,children:[(0,d.jsxs)("div",{className:"description",children:[(0,d.jsx)("h3",{children:a.name[t]}),(0,d.jsx)("div",{children:a.descr[t]}),(0,d.jsx)("div",{children:(0,d.jsxs)("strong",{children:["$ ",(Math.round(100*a.price)/100).toLocaleString("ru-RU")]})}),(0,d.jsx)("br",{})]}),(0,d.jsx)("div",{className:"imgs",children:(0,d.jsx)(x,{data:[f,f,f]})}),(0,d.jsx)("div",{className:"pics",children:(0,d.jsx)("img",{src:m,alt:"delete"})})]},"prod".concat(a.id,"-").concat(e))},"prod".concat(a.id,"-").concat(e))})}))})},b=function(a){var t=a.lang;return(0,d.jsx)("div",{className:"admin-container",children:(0,d.jsxs)("div",{className:"products",children:[(0,d.jsx)("h3",{children:"\u0421\u043f\u0438\u0441\u043e\u043a \u0442\u043e\u0432\u0430\u0440\u043e\u0432:"}),(0,d.jsx)("div",{className:"items",children:(0,d.jsx)("ul",{children:(0,d.jsx)(v,{lang:t,data:[{id:1,name:{en:"Chair",ru:"\u0421\u0442\u0443\u043b",kz:"\u041a\u043e\u0440\u043f\u0435"},set:2,imgs:["/images/temp/temp.jpg","src/images/temp/temp2.jpg"],descr:{en:"Cool chair",ru:"\u0425\u043e\u0440\u043e\u0448\u0438\u0439 \u0434\u0435\u0440\u0435\u0432\u044f\u043d\u043d\u044b\u0439 \u0441\u0442\u0443\u043b",kz:"\u0416\u0430\u043a\u0441\u044b \u0435\u043a\u0435\u043d \u043a\u043e\u0440\u043f\u0435"},price:200},{id:2,name:{en:"Table",ru:"\u0421\u0442o\u043b",kz:"\u041a\u043e\u0440\u043f\u04352"},set:2,imgs:["src/images/temp/temp.jpg","src/images/temp/temp2.jpg"],descr:{en:"Cool table",ru:"\u0425\u043e\u0440\u043e\u0448\u0438\u0439 \u0434\u0435\u0440\u0435\u0432\u044f\u043d\u043d\u044b\u0439 \u0441\u0442o\u043b",kz:"\u0416\u0430\u043a\u0441\u044b \u0435\u043a\u0435\u043d \u043a\u043e\u0440\u043f\u0435"},price:3500}]})})})]})})},p=function(a){var t=(0,s.useState)(a.lang),e=(0,n.Z)(t,2),m=e[0],h=e[1],j=(0,s.useState)("start"),x=(0,n.Z)(j,2),f=x[0],v=x[1],p=(0,c.Z)(),N=p.postData,C=p.clearError,_=p.error,k=p.loading,Z=(0,s.useState)(null),S=(0,n.Z)(Z,2),A=S[0],E=S[1],D=a.langs;(0,s.useEffect)((function(){h((function(t){return a.lang})),console.log("change lang to: ",m)}),[a.lang]),(0,s.useEffect)((function(){w()}),[]);var w=function(){C(),N({getlocale:""}).then((function(a){E(a.Getlocale)})).catch((function(a){return console.log("error get data from server: ",a)}))},L=function(){return(0,d.jsxs)("div",{className:"admin-container",children:[(0,d.jsx)("h3",{children:"\u0410\u0434\u043c\u0438\u043d \u043f\u0430\u043d\u0435\u043b\u044c!"}),(0,d.jsx)("p",{children:"........................."}),(0,d.jsxs)(i.OL,{to:"/",children:["\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443  ",A.button_send[m]]})]})},O=_?(0,d.jsx)(r.Z,{}):null,z=k&&!_?(0,d.jsx)(l.$,{}):null,$=k||_||!A?null:function(){switch(f){case"ui":return(0,d.jsx)("div",{className:"admin-container",children:(0,d.jsx)(u.Z,{lang:a.lang,langs:a.langs,uIData:a.uiData.Getlocale})});case"catalog":return(0,d.jsx)("div",{className:"admin-container",children:(0,d.jsx)(g,{lang:m,langs:D})});case"start":return(0,d.jsx)(L,{});case"mebel":return(0,d.jsx)(b,{lang:m});default:return(0,d.jsxs)("div",{className:"admin-container",children:[" ",(0,d.jsx)("h4",{children:"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435\u0442:)))"})]})}}();return(0,d.jsxs)("div",{className:"admin-panel",children:[k?null:(0,d.jsx)(o,{uiData:A,loading:k,lang:m,contentChange:function(a){var t=a.target.getAttribute("data-target");v(t)}}),O,z,$]})}},423:function(a,t,e){var n=e(184);t.Z=function(){return(0,n.jsxs)("div",{className:"error-loading",children:[(0,n.jsx)("h2",{children:"OOPS!!!"}),(0,n.jsx)("h5",{children:"\u0447\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a :("})]})}}}]);
//# sourceMappingURL=510.9e6cecdb.chunk.js.map